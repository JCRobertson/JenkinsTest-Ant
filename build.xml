<project default="main">
	<target name="main" depends="compile, compress" description="Main target">
		<echo>Building the .jar file.</echo>
	</target>
 
	<path id="test.class.path">
	<pathelement location="${dest.dir.classes}" /> 
	</path>
	
	<path id="build.class.path">
	<fileset dir="${home}/lib">
	<include name="*.jar" />
	</fileset>
	</path> 
	
	<junit printsummary="yes" haltonfailure="yes">
		<formatter type="xml"/>
		<classpath refid="test.class.path" />
		<classpath refid="build.class.path" />
			<batchtest fork="yes" todir="${dir.report.unittests.xml}">
				<fileset dir="src">
					<include name="**/*Test*.java"/>
				</fileset>
			</batchtest>
	</junit>
 
	<target name="runtests" description="Make output directories and run the MXUnit task" depends="compile">
		<taskdef name="mxunittask" classname="org.mxunit.ant.MXUnitAntTask"  classpath="**/ant/lib/mxunit-ant.jar" />
			<mxunittask outputdir="testresults" verbose="true">
				<directory path="src/" recurse="false" componentPath="mxunit.tests.framework" />
			</mxunittask>
	</target>
  
<target name="compile" description="Compilation target">
	<javac srcdir="src/"/> 
</target>

	<target name="compress" description="Compression target">
		<jar jarfile="Project.jar" basedir="src/" includes="*.class"/>
	</target>
</project>
